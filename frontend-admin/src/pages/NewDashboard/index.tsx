import Page from '@/components/Page';
import { Menu, Dropdown, Button, Badge, Spin } from 'antd';
import React, { useEffect, useState } from 'react';
import { Chart, Geom, Tooltip } from 'bizcharts';
import { connect } from 'umi';
import { NumberFormatter } from '@/utils/common';
import moment from 'moment/moment';

const NewDashboard = ({ dispatch, dashboardStats, loading }) => {
  const [statsFilter, setStatsFilter] = useState('weekly');
  const [newUsersTotal, setNewUsersTotal] = useState(0);
  const [totalPosts, setTotalPosts] = useState(0);
  const data = [
    { genre: ' d ', sold: 115 },
    { genre: '   d', sold: 200 },
    { genre: '   d ', sold: 550 },
    { genre: '  d  ', sold: 150 },
  ];
  let newData = [];
  newData = dashboardStats?.newUsers?.map((item) => {
    return {
      // ...item,
      sold: item?.count,
      genre: moment(item?.date).format('DD/MM'),
    };
  });
  let postData = [];
  postData = dashboardStats?.totalPosts?.map((item) => {
    return {
      // ...item,
      sold: item?.count,
      genre: moment(item?.date).format('DD/MM'),
    };
  });
  // useEffect(() => {}, [dashboardStats]);
  const getDashboardStats = (stats) => {
    dispatch({
      type: 'common/dashboardStats',
      payload: {
        query: { stats },
      },
    }).then(() => {
      calculateTotalNewUsers();
      calculateTotalPosts();
    });
  };
  useEffect(() => {
    getDashboardStats('weekly');
  }, []);
  const menu = (
    <Menu>
      <Menu.Item
        onClick={() => {
          setStatsFilter('Today');
          getDashboardStats('');
        }}
        key="Today"
      >
        today
      </Menu.Item>

      <Menu.Item
        onClick={() => {
          setStatsFilter('weekly');
          getDashboardStats('weekly');
        }}
        key="pastWeek"
      >
        Past week
      </Menu.Item>
      <Menu.Item
        onClick={() => {
          setStatsFilter('montly');
          getDashboardStats('monthly');
        }}
        key="monthly"
      >
        Past month
      </Menu.Item>
      <Menu.Item
        onClick={() => {
          setStatsFilter('yearly');
          getDashboardStats('yearly');
        }}
        key="yearly"
      >
        Past year
      </Menu.Item>
    </Menu>
  );
  const calculateTotalNewUsers = () => {
    let newUsers = 0;
    if (dashboardStats?.newUsers?.length > 1) {
      let newArr = dashboardStats?.newUsers?.map((val) => {
        newUsers = newUsers + val.count;
      });
      setNewUsersTotal(newUsers);
      return newUsers;
    } else {
      newUsers = dashboardStats?.newUsers?.count;
      setNewUsersTotal(newUsers);
      return newUsers;
    }
  };

  const calculateTotalPosts = () => {
    let totalPostPosted = 0;
    if (dashboardStats?.totalPosts?.length > 1) {
      let newArr = dashboardStats?.totalPosts?.map((val) => {
        totalPostPosted = totalPostPosted + val.count;
      });
      setTotalPosts(totalPostPosted);
      return totalPostPosted;
    } else {
      totalPostPosted = dashboardStats?.totalPosts?.count;
      setTotalPosts(totalPostPosted);
      return totalPostPosted;
    }
  };
  useEffect(() => {
    calculateTotalNewUsers();
    calculateTotalPosts();
  }, [dashboardStats, newUsersTotal, totalPosts]);

  return (
    <Page title="Dashboard" PrevNextNeeded="N">
      <Spin spinning={loading}>
        <div className="">
          <div className="relative flex justify-center">
            <div
              className="absolute w-max"
              style={{
                top: '70px',
                // left: '120px'
              }}
            >
              <div className="text-white font-bold text-2xl ml-2">
                <p>My Dashboard</p>
              </div>
              <div className="   items-center ">
                <div className=" flex justify-center items-center">
                  <div className="grid grid-cols-3 lg:grid-cols-3  gap-6">
                    <div
                      className="flex gap-5"
                      style={{ borderRadius: '10px', background: 'white', padding: '50px' }}
                    >
                      <svg
                        width="60"
                        height="60"
                        viewBox="0 0 60 60"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M0 31.7866C0 30.581 0 29.4558 0 28.2501C0.0804592 27.8483 0.080469 27.4464 0.160928 26.9641C0.885061 20.6145 3.29885 14.9883 7.56318 10.1658C13.1953 3.89655 20.2757 0.440431 28.8044 0.0385567C33.632 -0.202568 38.2986 0.681556 42.6434 2.85168C53.3444 8.15642 59.218 16.8369 59.9421 28.7324C60.3444 35.2428 58.5743 41.1905 54.9536 46.656C54.2295 47.7812 53.3445 48.8261 52.4594 50.0317C51.4939 46.013 49.7238 42.6372 47.1491 39.7438C44.4939 36.8503 41.356 34.6801 37.5745 33.3941C41.2756 30.9025 43.448 27.5268 43.9307 23.1865C44.4135 18.7659 43.0457 14.9883 39.9882 11.8537C34.6779 6.3078 25.586 6.38817 20.1148 11.7733C14.6436 17.1584 14.0804 27.8483 22.4481 33.3941C14.7241 36.368 9.73558 41.8335 7.56318 49.9514C3.86206 45.6915 1.44827 40.869 0.48276 35.3231C0.241382 34.1175 0.160918 32.9119 0 31.7866Z"
                          fill="#FF541F"
                        />
                        <path
                          d="M28.2412 60.0007C27.1148 59.84 25.9079 59.7596 24.7815 59.5185C19.6321 58.554 14.9654 56.4642 10.9425 53.0885C10.862 53.0081 10.7011 52.767 10.7816 52.6062C11.8275 45.5332 15.6091 40.3892 22.0459 37.4154C28.4826 34.4415 34.8389 35.0041 40.7124 38.8621C45.6204 42.0771 48.5169 46.7389 49.3215 52.6062C49.3215 52.767 49.241 53.0081 49.0801 53.0885C44.1721 57.0268 38.6204 59.3577 32.3446 59.84C32.1837 59.84 32.0228 59.9203 31.8619 59.9203C30.5745 60.0007 29.3676 60.0007 28.2412 60.0007Z"
                          fill="#FF541F"
                        />
                        <path
                          d="M30.0113 11.1289C35.8043 11.1289 40.471 15.871 40.471 21.5776C40.471 27.3646 35.7239 32.0264 30.0113 32.0264C24.2182 32.0264 19.5516 27.2843 19.632 21.4973C19.5516 15.7103 24.2182 11.1289 30.0113 11.1289Z"
                          fill="#FF541F"
                        />
                      </svg>
                      <div>
                        <p>{NumberFormatter(dashboardStats?.onlineUser)}</p>
                        <p>Number of online users</p>
                      </div>
                    </div>
                    <div
                      className="flex gap-5"
                      style={{ borderRadius: '10px', background: 'white', padding: '50px' }}
                    >
                      <svg
                        width="60"
                        height="60"
                        viewBox="0 0 71 80"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M45.3554 0C46.4706 0.450015 47.7033 0.743503 48.6816 1.40874C50.6773 2.73922 51.5382 4.77408 51.5969 7.16111C51.6165 7.86548 51.5969 8.56986 51.5969 9.39162C51.91 9.39162 52.1643 9.39162 52.4382 9.39162C56.7819 9.39162 61.1255 9.37206 65.4887 9.39162C68.9323 9.41119 71.1432 12.483 70.0475 15.6527C69.4997 17.218 68.3844 18.1963 66.78 18.5876C66.2517 18.7245 65.7039 18.7441 65.1561 18.7441C45.1793 18.7441 25.2221 18.7441 5.24532 18.7637C3.367 18.7637 1.80173 18.1767 0.784302 16.5527C-0.976627 13.7744 0.588643 10.1351 3.81701 9.48945C4.30616 9.39162 4.79531 9.37206 5.28446 9.37206C9.47155 9.37206 13.6782 9.37206 17.8653 9.37206C18.1392 9.37206 18.4327 9.37206 18.8827 9.37206C18.8827 8.27637 18.7849 7.23938 18.9023 6.22195C19.2936 2.97401 21.5437 0.66524 24.7721 0.117395C24.8699 0.0978294 24.9677 0.0391318 25.0656 0C31.8158 0 38.5856 0 45.3554 0ZM46.9207 9.33293C46.9207 8.64812 46.9207 8.04158 46.9207 7.4546C46.9207 5.57628 46.0206 4.67625 44.1423 4.67625C40.777 4.67625 37.4312 4.67625 34.0659 4.67625C31.3658 4.67625 28.6461 4.67625 25.946 4.67625C24.7329 4.67625 23.7546 5.32192 23.5786 6.41761C23.422 7.35677 23.5394 8.35463 23.5394 9.33293C31.3462 9.33293 39.0943 9.33293 46.9207 9.33293Z"
                          fill="#FF5E34"
                        />
                        <path
                          d="M4.91272 23.4785C25.1243 23.4785 45.2771 23.4785 65.4691 23.4785C65.2539 26.159 65.0387 28.8004 64.8235 31.4418C64.4321 36.1572 64.0408 40.8726 63.6495 45.6075C63.1995 51.0273 62.7495 56.447 62.2995 61.8668C61.9864 65.7213 61.6929 69.5953 61.3212 73.4498C60.9494 77.3434 58.0145 79.9848 54.0818 79.9848C41.5009 80.0043 28.9396 80.0043 16.3588 79.9848C12.3869 79.9848 9.452 77.363 9.08025 73.4106C8.57154 67.8931 8.14109 62.3559 7.69107 56.8383C7.20193 50.8708 6.69322 44.9032 6.20407 38.9551C5.77362 33.8289 5.34317 28.683 4.91272 23.4785ZM25.8286 68.5192C25.5743 64.2342 25.3591 60.6733 25.1438 57.1123C24.7525 50.6751 24.3416 44.2379 23.9503 37.8007C23.7938 35.3159 23.6568 32.8114 23.4807 30.3266C23.4025 29.0939 22.5024 28.2135 21.3285 28.1352C20.1545 28.0569 19.098 28.8004 18.8828 29.9744C18.7849 30.5027 18.8436 31.0701 18.8632 31.5984C19.2545 37.9573 19.6458 44.3162 20.0567 50.6751C20.4285 56.5644 20.7807 62.4733 21.1524 68.3626C21.2111 69.3605 21.7198 70.0844 22.659 70.4366C24.3612 71.1214 25.8873 69.8105 25.8286 68.5192ZM51.5773 31.0505C51.5773 31.0505 51.5969 31.0505 51.5773 31.0505C51.5969 30.9722 51.5969 30.894 51.5969 30.8157C51.636 29.2896 50.7164 28.1939 49.3664 28.1352C48.0164 28.0961 46.9989 29.1331 46.9011 30.6201C46.862 31.4027 46.8033 32.1853 46.7446 32.968C46.412 38.3682 46.0793 43.7683 45.7467 49.1881C45.3554 55.4296 44.9641 61.6516 44.5728 67.8931C44.4749 69.4779 45.4141 70.5736 46.8033 70.6323C48.1925 70.691 49.1707 69.6736 49.249 68.0887C49.5034 63.706 49.7773 59.3036 50.0512 54.9209C50.5795 46.938 51.0882 38.9943 51.5773 31.0505ZM37.5486 49.4424C37.5486 43.4553 37.5486 37.4681 37.5486 31.481C37.5486 31.0896 37.5682 30.6983 37.529 30.307C37.3725 28.5852 35.5529 27.6069 34.0659 28.4482C33.1854 28.9374 32.8528 29.7396 32.8528 30.7375C32.8528 43.1814 32.8528 55.6253 32.8528 68.0692C32.8528 68.2257 32.8528 68.3822 32.8724 68.5387C33.0093 69.4583 33.4985 70.1236 34.3789 70.4758C35.9833 71.1019 37.5486 69.9084 37.5486 68.0496C37.5486 61.8276 37.529 55.6448 37.5486 49.4424Z"
                          fill="#FF5E34"
                        />
                      </svg>
                      <div>
                        <p>{NumberFormatter(dashboardStats?.deletedUsers)} </p>
                        <p>Number of deleted users</p>
                      </div>
                    </div>
                    <div
                      className="flex gap-5"
                      style={{ borderRadius: '10px', background: 'white', padding: '50px' }}
                    >
                      <svg
                        width="60"
                        height="60"
                        viewBox="0 0 60 60"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M27.4548 0C33.1404 0.0511949 38.9285 0.750859 44.4605 2.90105C47.1923 3.97614 49.7534 5.3584 51.8193 7.50859C53.5609 9.30041 54.6365 11.3994 54.5341 13.9762C54.4316 16.2629 53.4072 18.1401 51.8535 19.7442C49.5144 22.1674 46.6118 23.635 43.4872 24.7442C37.7163 26.7749 31.7233 27.4063 25.6279 27.2357C20.9496 27.1162 16.3397 26.4848 11.8834 25.0173C8.48566 23.891 5.29283 22.3892 2.76589 19.7954C0.802387 17.7988 -0.324493 15.4267 0.0852817 12.5428C0.409687 10.2219 1.69023 8.41303 3.38055 6.87718C5.92457 4.57341 8.98081 3.19115 12.2078 2.16725C17.108 0.597274 22.1448 0.0341299 27.4548 0Z"
                          fill="#FF541F"
                        />
                        <path
                          d="M7.05149 39.9468C8.40033 40.4075 9.71503 40.9024 11.0809 41.329C16.869 43.1379 22.8107 43.8035 28.8549 43.5987C34.1649 43.428 39.3725 42.7796 44.4264 41.0901C48.6948 39.6737 52.656 37.6942 55.7976 34.3665C56.805 33.3085 57.6245 32.0798 58.5465 30.9023C59.2978 31.8921 59.7588 33.0867 59.9295 34.4007C60.3393 37.5918 58.9392 40.0492 56.6854 42.1311C54.2097 44.4178 51.2218 45.8001 48.0631 46.824C41.8653 48.8206 35.4796 49.2984 29.0086 48.923C24.8084 48.684 20.6765 47.9844 16.6983 46.5851C13.8298 45.5953 11.1322 44.2813 8.8784 42.2164C8.1613 41.568 7.54664 40.8 6.89783 40.1004C6.94905 40.0492 7.00027 39.998 7.05149 39.9468Z"
                          fill="#FF541F"
                        />
                        <path
                          d="M5.46375 46.5352C5.94182 46.9106 6.33452 47.2178 6.74429 47.5249C10.5518 50.3236 14.8373 52.013 19.4132 53.0369C28.7868 55.153 38.1774 55.0676 47.4998 52.7127C51.9732 51.5864 56.1563 49.7604 59.7589 46.7911C59.793 46.7741 59.8272 46.757 59.9296 46.7229C59.9638 47.7126 59.6906 48.6171 59.315 49.4874C58.2905 51.8082 56.4978 53.4465 54.4147 54.8117C51.2219 56.8765 47.6876 58.0881 43.9996 58.839C35.9578 60.4602 27.916 60.426 19.9254 58.4636C16.135 57.5421 12.5324 56.1427 9.45905 53.6342C7.42725 51.9789 5.89059 49.9823 5.51497 47.286C5.49789 47.1666 5.48082 47.03 5.46375 46.9106C5.46375 46.8423 5.46375 46.757 5.46375 46.5352Z"
                          fill="#FF541F"
                        />
                        <path
                          d="M54.5342 24.832C54.3976 26.9822 53.561 28.6887 52.2463 30.1904C50.0608 32.6649 47.2607 34.2007 44.2215 35.3611C39.6628 37.1188 34.9162 37.8867 30.0672 38.1086C23.562 38.3987 17.1764 37.8185 10.9956 35.6342C7.7345 34.4737 4.69533 32.9208 2.33913 30.3099C0.990289 28.8252 0.119518 27.1187 0 24.9856C0.136592 25.0539 0.239035 25.088 0.307331 25.1392C3.77334 27.9891 7.80279 29.7126 12.0884 30.8901C19.3277 32.8696 26.7207 33.1256 34.1308 32.3918C39.4408 31.8628 44.5801 30.6512 49.3437 28.1768C50.9828 27.3235 52.4682 26.2143 54.022 25.2075C54.1756 25.1221 54.2951 25.0027 54.5342 24.832Z"
                          fill="#FF541F"
                        />
                      </svg>
                      <div>
                        <p>{NumberFormatter(dashboardStats?.totalEarnings)} </p>
                        <p>No. of MCs earned by users</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div className=" " style={{ backgroundColor: '#211414', height: '250px' }}></div>
        </div>
        <div className="mt-24 ml-32 mb-10">
          <Dropdown overlay={menu}>
            <Button
              type="default"
              onClick={(event) => {
                event.stopPropagation();
              }}
              style={{ border: '2px solid #FF541F', borderRadius: '5px', color: '#FF541F' }}
            >
              <span className="text-[#FF541F]">{statsFilter}</span>
            </Button>
          </Dropdown>
        </div>
        <div className=" flex  gap-10 justify-center">
          <div
            className={`grid grid-cols-1 gap-4 ${
              statsFilter === 'yearly' ? 'grid-cols-1' : ' md:grid-cols-2 xl:grid-cols-3'
            } `}
          >
            <div
              className="bg-white p-5 rounded-md  w-max"
              style={{
                boxShadow: '0px 0px 15px rgba(0, 0, 0, 0.15)',
              }}
            >
              <div className="flex gap-5">
                <svg
                  width="40"
                  height="40"
                  viewBox="0 0 60 60"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0 31.7866C0 30.581 0 29.4558 0 28.2501C0.0804592 27.8483 0.080469 27.4464 0.160928 26.9641C0.885061 20.6145 3.29885 14.9883 7.56318 10.1658C13.1953 3.89655 20.2757 0.440431 28.8044 0.0385567C33.632 -0.202568 38.2986 0.681556 42.6434 2.85168C53.3444 8.15642 59.218 16.8369 59.9421 28.7324C60.3444 35.2428 58.5743 41.1905 54.9536 46.656C54.2295 47.7812 53.3445 48.8261 52.4594 50.0317C51.4939 46.013 49.7238 42.6372 47.1491 39.7438C44.4939 36.8503 41.356 34.6801 37.5745 33.3941C41.2756 30.9025 43.448 27.5268 43.9307 23.1865C44.4135 18.7659 43.0457 14.9883 39.9882 11.8537C34.6779 6.3078 25.586 6.38817 20.1148 11.7733C14.6436 17.1584 14.0804 27.8483 22.4481 33.3941C14.7241 36.368 9.73558 41.8335 7.56318 49.9514C3.86206 45.6915 1.44827 40.869 0.48276 35.3231C0.241382 34.1175 0.160918 32.9119 0 31.7866Z"
                    fill="#FF541F"
                  />
                  <path
                    d="M28.2412 60.0007C27.1148 59.84 25.9079 59.7596 24.7815 59.5185C19.6321 58.554 14.9654 56.4642 10.9425 53.0885C10.862 53.0081 10.7011 52.767 10.7816 52.6062C11.8275 45.5332 15.6091 40.3892 22.0459 37.4154C28.4826 34.4415 34.8389 35.0041 40.7124 38.8621C45.6204 42.0771 48.5169 46.7389 49.3215 52.6062C49.3215 52.767 49.241 53.0081 49.0801 53.0885C44.1721 57.0268 38.6204 59.3577 32.3446 59.84C32.1837 59.84 32.0228 59.9203 31.8619 59.9203C30.5745 60.0007 29.3676 60.0007 28.2412 60.0007Z"
                    fill="#FF541F"
                  />
                  <path
                    d="M30.0113 11.1289C35.8043 11.1289 40.471 15.871 40.471 21.5776C40.471 27.3646 35.7239 32.0264 30.0113 32.0264C24.2182 32.0264 19.5516 27.2843 19.632 21.4973C19.5516 15.7103 24.2182 11.1289 30.0113 11.1289Z"
                    fill="#FF541F"
                  />
                </svg>
                <div className="">
                  <p className="mb-1">100 k</p>
                  <p>Total users</p>
                </div>
              </div>
              <Chart width={statsFilter === 'yearly' ? 1000 : 300} height={200} data={newData}>
                <Tooltip />
                <Geom type="interval" position="genre*sold" color="#FF5E34" />
              </Chart>
            </div>
            <div
              className="bg-white p-5 rounded-md  w-max"
              style={{
                boxShadow: '0px 0px 15px rgba(0, 0, 0, 0.15)',
              }}
            >
              <div className="flex gap-5">
                <svg
                  width="40"
                  height="40"
                  viewBox="0 0 60 60"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0 31.7866C0 30.581 0 29.4558 0 28.2501C0.0804592 27.8483 0.080469 27.4464 0.160928 26.9641C0.885061 20.6145 3.29885 14.9883 7.56318 10.1658C13.1953 3.89655 20.2757 0.440431 28.8044 0.0385567C33.632 -0.202568 38.2986 0.681556 42.6434 2.85168C53.3444 8.15642 59.218 16.8369 59.9421 28.7324C60.3444 35.2428 58.5743 41.1905 54.9536 46.656C54.2295 47.7812 53.3445 48.8261 52.4594 50.0317C51.4939 46.013 49.7238 42.6372 47.1491 39.7438C44.4939 36.8503 41.356 34.6801 37.5745 33.3941C41.2756 30.9025 43.448 27.5268 43.9307 23.1865C44.4135 18.7659 43.0457 14.9883 39.9882 11.8537C34.6779 6.3078 25.586 6.38817 20.1148 11.7733C14.6436 17.1584 14.0804 27.8483 22.4481 33.3941C14.7241 36.368 9.73558 41.8335 7.56318 49.9514C3.86206 45.6915 1.44827 40.869 0.48276 35.3231C0.241382 34.1175 0.160918 32.9119 0 31.7866Z"
                    fill="#FF541F"
                  />
                  <path
                    d="M28.2412 60.0007C27.1148 59.84 25.9079 59.7596 24.7815 59.5185C19.6321 58.554 14.9654 56.4642 10.9425 53.0885C10.862 53.0081 10.7011 52.767 10.7816 52.6062C11.8275 45.5332 15.6091 40.3892 22.0459 37.4154C28.4826 34.4415 34.8389 35.0041 40.7124 38.8621C45.6204 42.0771 48.5169 46.7389 49.3215 52.6062C49.3215 52.767 49.241 53.0081 49.0801 53.0885C44.1721 57.0268 38.6204 59.3577 32.3446 59.84C32.1837 59.84 32.0228 59.9203 31.8619 59.9203C30.5745 60.0007 29.3676 60.0007 28.2412 60.0007Z"
                    fill="#FF541F"
                  />
                  <path
                    d="M30.0113 11.1289C35.8043 11.1289 40.471 15.871 40.471 21.5776C40.471 27.3646 35.7239 32.0264 30.0113 32.0264C24.2182 32.0264 19.5516 27.2843 19.632 21.4973C19.5516 15.7103 24.2182 11.1289 30.0113 11.1289Z"
                    fill="#FF541F"
                  />
                </svg>
                <div>
                  <p className="mb-1">{newUsersTotal || 0}</p>
                  <p>New users</p>
                </div>
              </div>
              <Chart width={statsFilter === 'yearly' ? 1100 : 300} height={200} data={newData}>
                <Tooltip />
                <Geom type="interval" position="genre*sold" color="#FF5E34" />
              </Chart>
            </div>
            <div
              className="bg-white p-5 rounded-md  w-max"
              style={{
                boxShadow: '0px 0px 15px rgba(0, 0, 0, 0.15)',
              }}
            >
              <div className="flex gap-5">
                <svg
                  width="40"
                  height="40"
                  viewBox="0 0 60 60"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0 46.5223C0 33.0133 0 19.4887 0 5.97965C0.0313071 5.88573 0.0782677 5.80746 0.109575 5.71354C0.767023 2.30107 3.50639 0 6.96582 0C16.4675 0 25.9849 0 35.5022 0C39.3843 0 42.4211 2.84894 42.4994 6.71537C42.5776 11.4114 42.515 16.1231 42.5307 20.8349C42.5307 21.1949 42.3898 21.2888 42.0611 21.3201C41.3097 21.3671 40.527 21.3827 39.7913 21.5393C38.2103 21.868 36.6606 22.275 35.0796 22.6663C34.5317 20.4279 34.0308 20.0365 31.5888 20.0365C24.5761 20.0365 17.5633 20.0365 10.5505 20.0365C10.2844 20.0365 10.0026 20.0365 9.7365 20.0522C8.29638 20.1774 7.24759 21.6175 7.56066 23.0264C7.84242 24.2786 8.81294 25.0144 10.2218 25.0144C16.8432 25.0144 23.4647 25.0144 30.0861 25.0144C30.2896 25.0144 30.4931 25.0144 30.6966 25.0144C28.3329 26.8145 26.3449 28.8808 24.7013 31.354C24.1691 30.5087 23.496 30.0391 22.5881 30.0391C18.3459 30.0235 14.1195 30.0078 9.87738 30.0391C8.53118 30.0548 7.46674 31.2445 7.49804 32.5907C7.52935 34.0151 8.65641 35.0326 10.2374 35.0326C14.1665 35.0326 18.0955 35.0326 22.0089 35.0326C22.2437 35.0326 22.4628 35.0326 22.7759 35.0326C20.5531 40.9653 20.7566 46.7728 23.3081 52.4863C23.1829 52.502 23.1203 52.5176 23.0577 52.5176C17.5946 52.5176 12.1158 52.5489 6.65275 52.502C4.52387 52.4863 2.78633 51.5314 1.44013 49.8722C0.673102 48.886 0.297417 47.712 0 46.5223ZM14.9961 14.9961C16.6084 14.9961 18.2364 14.9961 19.8487 14.9961C21.3671 14.9961 22.4785 13.9473 22.4941 12.5385C22.5098 11.1297 21.414 10.0026 19.9113 10.0026C16.6397 9.98696 13.3525 9.98696 10.0809 10.0026C8.59379 10.0026 7.49804 11.114 7.49804 12.5228C7.5137 13.9316 8.6251 14.9961 10.1278 14.9961C11.7558 15.0117 13.3681 14.9961 14.9961 14.9961Z"
                    fill="#FF5E34"
                  />
                  <path
                    d="M41.7168 59.9991C40.5585 59.7643 39.3844 59.5921 38.2417 59.2634C31.8394 57.4319 26.9555 51.4992 26.345 44.8308C25.6093 36.8319 30.2897 29.6469 37.8817 27.0954C47.6025 23.8238 58.247 30.32 59.781 40.4478C61.2055 49.9182 54.8658 58.4651 45.3954 59.8426C45.0667 59.8895 44.7379 59.9365 44.4249 59.9991C43.517 59.9991 42.6247 59.9991 41.7168 59.9991ZM40.6367 45.5979C40.6367 45.8953 40.6367 46.1144 40.6367 46.3179C40.6367 47.5546 40.6211 48.7755 40.6524 50.0122C40.6837 51.4366 41.7794 52.5011 43.1569 52.4854C44.5031 52.4698 45.5832 51.421 45.6145 50.0278C45.6459 48.7755 45.6145 47.5232 45.6302 46.2866C45.6302 46.0831 45.6459 45.8796 45.6615 45.6135C45.9276 45.6135 46.1468 45.6135 46.3503 45.6135C47.5556 45.6135 48.7766 45.6292 49.9819 45.6135C51.4377 45.5979 52.5334 44.5021 52.5178 43.1089C52.5021 41.7314 51.4377 40.667 49.9975 40.6513C48.7609 40.6357 47.5399 40.6513 46.3033 40.6513C46.0998 40.6513 45.8963 40.6357 45.6302 40.62C45.6302 40.3539 45.6302 40.1348 45.6302 39.9313C45.6302 38.6947 45.6459 37.4737 45.6145 36.237C45.5832 34.8126 44.4875 33.7481 43.11 33.7638C41.7638 33.7794 40.6837 34.8282 40.6524 36.2214C40.6211 37.4737 40.6524 38.726 40.6367 39.9626C40.6367 40.1661 40.6211 40.3696 40.6054 40.6357C40.3393 40.6357 40.1202 40.6357 39.9167 40.6357C38.6644 40.6357 37.4121 40.62 36.1755 40.6513C35.0954 40.667 34.2031 41.3558 33.89 42.3419C33.3735 43.9229 34.4849 45.5509 36.1598 45.5979C37.6156 45.6292 39.0714 45.5979 40.6367 45.5979Z"
                    fill="#FF5E34"
                  />
                </svg>
                <div>
                  <p className="mb-1">{totalPosts || 0}</p>
                  <p>Number of post Posted</p>
                </div>
              </div>
              <Chart width={statsFilter === 'yearly' ? 1000 : 300} height={200} data={postData}>
                <Tooltip />
                <Geom type="interval" position="genre*sold" color="#FF5E34" />
              </Chart>
            </div>
          </div>
        </div>
      </Spin>
    </Page>
  );
};

export default connect(({ common, loading }) => ({
  dashboardStats: common?.dashboardStats,
  loading: loading?.effects['common/dashboardStats'],
}))(NewDashboard);
